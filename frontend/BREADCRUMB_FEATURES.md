# 面包屑导航功能说明

## 概述

本项目已实现完整的二级页面设计和面包屑导航功能，支持多层级路由导航和动态路由参数。

## 功能特性

### 1. 二级页面设计

#### 部署管理模块
- **部署概览** (`/deployments`) - 主要部署管理页面
- **部署历史** (`/deployments/history`) - 查看历史部署记录
- **部署配置** (`/deployments/config`) - 管理部署配置

#### 项目管理模块
- **项目列表** (`/projects`) - 主要项目管理页面
- **所有项目** (`/projects/list`) - 查看所有项目

### 2. 面包屑导航

#### 静态路由支持
- 自动识别路由层级
- 显示中文页面名称
- 支持点击跳转

#### 动态路由支持
- 支持路由参数（如 `/projects/:id`）
- 自动解析参数并显示友好名称
- 保持导航一致性

#### 样式特性
- 毛玻璃效果背景
- 悬停动画效果
- 与整体设计风格一致

### 3. 404页面优化

#### 布局优化
- ✅ 404页面完全显示在MainLayout的内容区域内
- ✅ 不会超出侧边栏和头部导航的布局范围
- ✅ 保持与其他页面一致的视觉体验
- ✅ 面包屑正确显示当前路径

#### 样式特性
- 居中显示在内容区域
- 毛玻璃效果卡片设计
- 响应式布局适配
- 动画效果和交互反馈

## 路由结构

```
/                           → 首页 (重定向到 /dashboard)
/dashboard                  → 仪表板
/deployments               → 部署概览
├── /deployments/history   → 部署历史
└── /deployments/config    → 部署配置
/projects                  → 项目列表
├── /projects/list        → 所有项目
└── /projects/:id         → 项目详情 (动态路由)
└── /projects/:id/edit    → 编辑项目 (动态路由)
/breadcrumb-test          → 面包屑测试页面
*                         → 404页面 (任何未匹配的路由)
```

## 面包屑示例

### 部署历史页面
```
首页 > 部署管理 > 部署历史
```

### 项目详情页面
```
首页 > 项目管理 > 项目详情
```

### 编辑项目页面
```
首页 > 项目管理 > 项目详情 > 编辑项目
```

### 404页面
```
首页 > 页面未找到
```

## 技术实现

### 1. 路由配置
- 使用 React Router v6
- 支持嵌套路由结构
- 动态路由参数处理
- 通配符路由处理404页面

### 2. 面包屑组件
- 自动解析当前路径
- 支持静态和动态路由映射
- 参数化路由名称生成
- 404页面特殊处理

### 3. 菜单集成
- 侧边栏菜单支持子菜单
- 自动高亮当前页面
- 折叠/展开功能

### 4. 404页面布局
- 使用MainLayout包装
- 内容区域居中显示
- 响应式高度计算
- 保持布局一致性

## 使用方法

### 访问二级页面
1. 点击侧边栏的"部署管理"或"项目管理"
2. 展开子菜单选择具体功能
3. 面包屑会自动显示当前路径

### 测试面包屑功能
1. 访问 `/breadcrumb-test` 页面
2. 点击不同的链接测试导航
3. 观察面包屑的变化

### 测试404页面
1. 访问 `/breadcrumb-test` 页面
2. 点击"访问不存在的页面"按钮
3. 观察404页面是否正确显示在内容区域内

### 添加新路由
1. 在 `App.tsx` 中添加路由配置
2. 在 `Breadcrumb.tsx` 中添加路由映射
3. 在 `MainLayout.tsx` 中添加菜单项

## 文件结构

```
src/
├── components/layout/
│   ├── MainLayout.tsx          # 主布局组件
│   └── Breadcrumb.tsx          # 面包屑组件
├── pages/
│   ├── deployments/
│   │   ├── DeploymentHistoryPage.tsx
│   │   └── DeploymentConfigPage.tsx
│   ├── projects/
│   │   └── ProjectListPage.tsx
│   ├── NotFoundPage.tsx        # 404页面 (已优化)
│   └── BreadcrumbTestPage.tsx  # 测试页面
└── App.tsx                     # 路由配置
```

## 样式配置

### 面包屑样式
- 背景：毛玻璃效果
- 边框：半透明边框
- 文字：白色渐变
- 悬停：缩放和颜色变化

### 菜单样式
- 支持子菜单折叠
- 图标和文字对齐
- 悬停效果

### 404页面样式
- 内容区域居中显示
- 毛玻璃效果卡片
- 响应式高度适配
- 动画和交互效果

## 布局优化

### 404页面布局改进
1. **移除全屏样式**：不再使用 `minHeight: 100vh`
2. **适应内容区域**：使用 `calc(100vh - 120px)` 计算高度
3. **居中显示**：在MainLayout的内容区域内居中
4. **保持一致性**：与其他页面保持相同的视觉体验

### 布局约束
- 404页面不会超出侧边栏范围
- 保持头部导航的可见性
- 面包屑正确显示当前路径
- 响应式适配不同屏幕尺寸

## 扩展性

### 添加三级路由
1. 在路由配置中添加三级路径
2. 更新面包屑映射
3. 添加菜单子项

### 自定义面包屑名称
1. 修改 `routeMap` 对象
2. 添加动态路由映射
3. 自定义参数处理逻辑

### 自定义404页面
1. 修改 `NotFoundPage.tsx` 组件
2. 保持布局约束
3. 更新样式和交互

## 注意事项

1. **路由命名**：保持路由路径的一致性
2. **面包屑映射**：确保所有路由都有对应的中文名称
3. **动态路由**：正确处理路由参数
4. **样式一致性**：保持与整体设计风格一致
5. **布局约束**：404页面必须显示在MainLayout的内容区域内

## 测试建议

1. 测试所有二级页面的面包屑显示
2. 验证动态路由的参数处理
3. 检查菜单导航的正确性
4. 测试面包屑的点击跳转功能
5. **重点测试404页面的布局**：确保不超出MainLayout范围
6. 测试不同屏幕尺寸下的响应式表现
